<!DOCTYPE html>
<!--
  ~ Copyright (c) 2016 S-IMK GmbH
  ~ Letzte DateiÃ¤nderung: 25.11.16 13:39 (kaemmerling)
  -->
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>LK Development Open Source by LKDevelopment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/stylesheets/github-light.css" media="screen">
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Laravel Uptime Monitor API - Documentation</h1>
    <h2 class="project-tagline">v 1.0</h2>
</section>
<section class="main-content">
    <h2>Description</h2>
    <p>This is an Addon Package for <a href="https://github.com/spatie/laravel-uptime-monitor">https://github.com/spatie/laravel-uptime-monitor</a>.
        It provides an Restful API Interface for interacting with the Uptime Monitor over HTTP.</p>
    <h2>Basic Installation</h2>
    <div>
        <p>You can install this package via composer using:</p>
        <code>composer require lkdev/laravel-uptime-monitor-api</code>
    </div>
    <div>
        <p>Than you need to register the service provider after the service provider from <a
                href="https://github.com/spatie/laravel-uptime-monitor">laravel-uptime-monitor</a></p>
        <pre>
            <code>
'providers' => [
    // ...
    LKDevelopment\UptimeMonitorAPI\UptimeMonitorAPIServiceProvider::class,
];
            </code>
        </pre>
    </div>
    <div>
        <h2>Configuration</h2>
        <p>To publish the config file to <code>config/laravel-uptime-monitor-api.php</code> run:
        <pre><code>php artisan vendor:publish --provider="LKDevelopment\UptimeMonitorAPI\UptimeMonitorAPIServiceProvider"</code>
            </pre>
        </p>
    </div>
    <div>
        <p>And now you can visit http://yourdomain.com/api/monitor and there should be an json response that contains
            all of your monitors.</p>
    </div>
    <div>
        <h2>API Endpoints</h2>
        <div>
            <h3><strong>GET</strong> /api/monitor </h3>
            <p>Get all Monitors that are in the System.</p>
            <h4>Sample Response</h4>
            <pre><code>[{"id":1,"url":{},"uptime_check_enabled":true,"look_for_string":"","uptime_check_interval_in_minutes":"5","uptime_status":"up","uptime_check_failure_reason":"","uptime_check_times_failed_in_a_row":0,"uptime_status_last_change_date":"2016-11-24 14:23:02","uptime_last_check_date":"2016-11-25 13:08:01","uptime_check_failed_event_fired_on_date":null,"uptime_check_method":"head","certificate_check_enabled":false,"certificate_status":"not yet checked","certificate_expiration_date":null,"certificate_issuer":null,"certificate_check_failure_reason":"","created_at":"2016-11-24 14:22:23","updated_at":"2016-11-25 13:08:01"}...]</code></pre>
        </div>
        <div>
            <h3><strong>GET</strong> /api/monitor/{id[integer]} </h3>
            <p>Get Monitors to the ID.</p>
            <h4>Sample Response</h4>
            <pre><code>{"id":1,"url":{},"uptime_check_enabled":true,"look_for_string":"","uptime_check_interval_in_minutes":"5","uptime_status":"up","uptime_check_failure_reason":"","uptime_check_times_failed_in_a_row":0,"uptime_status_last_change_date":"2016-11-24 14:23:02","uptime_last_check_date":"2016-11-25 13:08:01","uptime_check_failed_event_fired_on_date":null,"uptime_check_method":"head","certificate_check_enabled":false,"certificate_status":"not yet checked","certificate_expiration_date":null,"certificate_issuer":null,"certificate_check_failure_reason":"","created_at":"2016-11-24 14:22:23","updated_at":"2016-11-25 13:08:01"}</code></pre>
        </div>
        <div>
            <h3><strong>POST</strong> /api/monitor/create </h3>
            <p>Create a new monitor</p>
            <h4>Parameters</h4>
            <p><strong>url</strong> -[string] The new url of the monitor - required</p>
            <p><strong>uptime_check_interval_in_minutes</strong> - [integer] Interval for checking the url - required
            </p>
            <p><em>look_for_string</em> - [string] Specifiy an string that should be at the given url - optional</p>
            <h4>Sample Response</h4>
            <pre><code>{"created":true}</code></pre>
        </div>
        <div>
            <h3><strong>PUT</strong> /api/monitor/{id[integer]} </h3>
            <p>Update the Data of the monitor.</p>
            <h4>Parameters</h4>
            <p><strong>url</strong> -[string] The new url of the monitor - required</p>
            <p><strong>uptime_check_interval_in_minutes</strong> - [integer] Interval for checking the url - required
            </p>
            <p><em>look_for_string</em> - [string] Specifiy an string that should be at the given url - optional</p>
            <h4>Sample Response</h4>
            <pre><code>{"updated":true}</code></pre>
        </div>
        <div>
            <h3><strong>DELETE</strong> /api/monitor/{id[integer]} </h3>
            <p>Deletes all of the monitor.</p>
            <h4>Sample Response</h4>
            <pre><code>{"deleted":true}</code></pre>
        </div>
    </div>
    <footer class="site-footer">
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a
                href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a
                href="https://twitter.com/jasonlong">Jason Long</a>.</span>
    </footer>
</section>
</body>
</html>
